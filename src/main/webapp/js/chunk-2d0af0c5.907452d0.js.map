{"version":3,"sources":["webpack:///./src/admin/psitemmanager.vue","webpack:///src/admin/psitemmanager.vue","webpack:///./src/admin/psitemmanager.vue?2ed7","webpack:///./src/admin/psitemmanager.vue?846d"],"names":["render","_vm","this","_c","_self","staticClass","_v","_s","psColumn","pageName","on","deleteRec","attrs","pageId","directives","name","rawName","value","selectedAll","expression","domProps","Array","isArray","_i","selectedAllHandler","$event","$$a","$$el","target","$$c","checked","$$v","$$i","concat","slice","_m","listPsitem","length","_l","psitem","key","id","rowSelected","$set","lmName","lmType","_e","deleteOne","staticRenderFns","data","hostHead","created","methods","pageid","console","c","confirmButtonText","ids","Object","cancelButtonText","type","emulateJSON","message","duration","component"],"mappings":"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","file":"js/chunk-2d0af0c5.907452d0.js","sourcesContent":["var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"mypanel\"},[_c('div',{staticClass:\"hd\"},[_vm._v(\" [\"+_vm._s(_vm.psColumn.pageName)+\"]板块管理 \")]),_c('div',{staticClass:\"bd\"},[_c('div',{staticClass:\"action-details\"},[_c('el-button-group',[_c('el-button',{on:{\"click\":_vm.deleteRec}},[_c('i',{staticClass:\"el-icon-delete\"}),_vm._v(\"删除\")]),_c('route-button',{attrs:{\"icon\":\"el-icon-setting\",\"type\":\"primary\",\"url\":`/admin/psitemadd?pageid=${_vm.psColumn.pageId}`}},[_c('i',{staticClass:\"el-icon-plus\"}),_vm._v(\"添加板块\")])],1)],1),_c('table',{staticClass:\"ui-record-table\",attrs:{\"width\":\"100%\",\"border\":\"0\",\"cellspacing\":\"0\",\"cellpadding\":\"0\"}},[_c('thead',[_c('tr',[_c('th',[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.selectedAll),expression:\"selectedAll\"}],attrs:{\"type\":\"checkbox\"},domProps:{\"checked\":Array.isArray(_vm.selectedAll)?_vm._i(_vm.selectedAll,null)>-1:(_vm.selectedAll)},on:{\"click\":_vm.selectedAllHandler,\"change\":function($event){var $$a=_vm.selectedAll,$$el=$event.target,$$c=$$el.checked?(true):(false);if(Array.isArray($$a)){var $$v=null,$$i=_vm._i($$a,$$v);if($$el.checked){$$i<0&&(_vm.selectedAll=$$a.concat([$$v]))}else{$$i>-1&&(_vm.selectedAll=$$a.slice(0,$$i).concat($$a.slice($$i+1)))}}else{_vm.selectedAll=$$c}}}})]),_vm._m(0),_vm._m(1),_c('th',[_vm._v(\" 操作 \")])])]),_c('tbody',[_c('tr',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.listPsitem.length==0),expression:\"listPsitem.length==0\"}]},[_c('td',{attrs:{\"colspan\":\"20\"}},[_vm._v(\" 没有相关页面信息 \")])]),_vm._l((_vm.listPsitem),function(psitem){return _c('tr',{key:psitem.id},[_c('td',[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(psitem.rowSelected),expression:\"psitem.rowSelected\"}],staticClass:\"check\",attrs:{\"name\":\"ids\",\"type\":\"checkbox\"},domProps:{\"value\":psitem.id,\"checked\":Array.isArray(psitem.rowSelected)?_vm._i(psitem.rowSelected,psitem.id)>-1:(psitem.rowSelected)},on:{\"change\":function($event){var $$a=psitem.rowSelected,$$el=$event.target,$$c=$$el.checked?(true):(false);if(Array.isArray($$a)){var $$v=psitem.id,$$i=_vm._i($$a,$$v);if($$el.checked){$$i<0&&(_vm.$set(psitem, \"rowSelected\", $$a.concat([$$v])))}else{$$i>-1&&(_vm.$set(psitem, \"rowSelected\", $$a.slice(0,$$i).concat($$a.slice($$i+1))))}}else{_vm.$set(psitem, \"rowSelected\", $$c)}}}})]),_c('td',[_vm._v(_vm._s(psitem.lmName))]),_c('td',[(psitem.lmType==1)?_c('span',[_vm._v(\"资讯\")]):_vm._e(),(psitem.lmType==2)?_c('span',[_vm._v(\"教育服务板块\")]):_vm._e(),(psitem.lmType==3)?_c('span',[_vm._v(\"课程\")]):_vm._e()]),_c('td',[_c('span',{staticClass:\"el-button el-button--danger\",attrs:{\"title\":\"删除\"},on:{\"click\":function($event){return _vm.deleteOne(psitem.id)}}},[_c('i',{staticClass:\"fa fa-trash-o\"})])])])})],2)])])])\n}\nvar staticRenderFns = [function (){var _vm=this,_c=_vm._self._c;return _c('th',[_c('b',[_vm._v(\"板块名\")])])\n},function (){var _vm=this,_c=_vm._self._c;return _c('th',[_c('b',[_vm._v(\"板块类型\")])])\n}]\n\nexport { render, staticRenderFns }","<template>\r\n    <div  class=\"mypanel\">\r\n        <div class=\"hd\">\r\n            [{{ psColumn.pageName }}]板块管理\r\n        </div>\r\n\r\n        <div class=\"bd\">\r\n        <!-- 搜索控件结束 -->\r\n        <div class=\"action-details\">\r\n            <el-button-group>\r\n                <el-button @click=\"deleteRec\"><i class=\"el-icon-delete\"></i>删除</el-button>\r\n                <route-button icon=\"el-icon-setting\" type=\"primary\" :url=\"`/admin/psitemadd?pageid=${psColumn.pageId}`\"><i class=\"el-icon-plus\"></i>添加板块</route-button>\r\n            </el-button-group>\r\n        </div>\r\n        <table  width=\"100%\" border=\"0\" cellspacing=\"0\" cellpadding=\"0\" class=\"ui-record-table\">\r\n            <thead>\r\n            <tr>\r\n                <th>\r\n                    <input type=\"checkbox\" @click=\"selectedAllHandler\" v-model=\"selectedAll\"/>\r\n                </th>\r\n\r\n                <th><b>板块名</b></th>\r\n                <th><b>板块类型</b></th>\r\n                <th>\r\n                    操作\r\n                </th>\r\n            </tr>\r\n            </thead>\r\n            <tbody>\r\n\r\n            <tr v-show=\"listPsitem.length==0\">\r\n                <td colspan=\"20\">\r\n                    没有相关页面信息\r\n                </td>\r\n            </tr>\r\n\r\n            <tr v-for=\"psitem in listPsitem\" :key=\"psitem.id\">\r\n                <td>\r\n                    <input class=\"check\" name=\"ids\" type=\"checkbox\" v-model=\"psitem.rowSelected\"\r\n                           :value=\"psitem.id\"/>\r\n                </td>\r\n                <td>{{psitem.lmName}}</td>\r\n                <td>\r\n                    <span v-if=\"psitem.lmType==1\">资讯</span>\r\n                    <span v-if=\"psitem.lmType==2\">教育服务板块</span>\r\n                    <span v-if=\"psitem.lmType==3\">课程</span>\r\n\r\n                </td>\r\n\r\n                <td>\r\n                    <span  title=\"删除\" @click=\"deleteOne(psitem.id)\" class=\"el-button el-button--danger\" ><i class=\"fa fa-trash-o\"></i></span>\r\n\r\n                </td>\r\n            </tr>\r\n\r\n            </tbody>\r\n        </table>\r\n        </div>\r\n    </div>\r\n\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n    name: \"psitemmanager\",\r\n    data () {\r\n        return {\r\n            hostHead:this.$app.contextPath,\r\n            name:\"\",\r\n            selectedAll:false,\r\n            listPsitem:[],\r\n            psColumn:{}\r\n\r\n        }\r\n    },\r\n    created () {\r\n        this.search();\r\n    },\r\n    methods:{\r\n        async search(){\r\n            let url=\"admin/psitem/list\";\r\n            let pageid=this.$route.query.pageid;\r\n            let param={\r\n                pageid\r\n            };\r\n            let { data:res }=await this.$http.post(url,param);\r\n            if(res!=null&&res.data!=null){\r\n                this.psColumn=res.data;\r\n                this.listPsitem=this.psColumn.psItemVos;\r\n            }\r\n        },\r\n        selectedAllHandler(){\r\n            console.log(this.selectedAll);\r\n            if(this.listPsitem!=null){\r\n                this.listPsitem.forEach(c=>{\r\n                    c.rowSelected=!this.selectedAll;\r\n                });\r\n            }\r\n        },\r\n        deleteRec(){\r\n            let hasChecked=this.listPsitem.some(c=>{\r\n                return c.rowSelected==true;\r\n            });\r\n            if(!hasChecked){\r\n                this.$alert('请选择需要删除的记录', '系统提示', {\r\n                    confirmButtonText: '确定'\r\n                });\r\n                return;\r\n            }\r\n            let ids=this.listPsitem.filter(c=>c.rowSelected).map(c=>c.id);\r\n            console.log(\"ids\",ids);\r\n            this._doDelete({ids});\r\n        },\r\n        deleteOne(id){\r\n            let ids=[];\r\n            ids.push(id);\r\n            this._doDelete({ids});\r\n        },\r\n        async _doDelete(options){\r\n            let defaultOptions={\r\n                ids:[]\r\n            };\r\n            Object.assign(defaultOptions,options);\r\n            let url=\"admin/psitem/delete\";\r\n            let confirm= await this.$confirm('是否要删除信息?', '系统提示', {\r\n                confirmButtonText: '确定',\r\n                cancelButtonText: '取消',\r\n                type: 'warning',\r\n            });\r\n            if(defaultOptions.ids==null||defaultOptions.ids.length<=0)\r\n                return;\r\n            let {data:res}=await this.$http.post(url, {ids:defaultOptions.ids},{emulateJSON:false});\r\n            if (res.stateCode > 0) {\r\n                this.$message({\r\n                    message:\"删除成功\",\r\n                    type:'success',\r\n                    duration:3000\r\n                });\r\n                this.search();\r\n            }\r\n        }\r\n    }\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n\r\n</style>\r\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./psitemmanager.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./psitemmanager.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./psitemmanager.vue?vue&type=template&id=4e778a83&scoped=true&\"\nimport script from \"./psitemmanager.vue?vue&type=script&lang=js&\"\nexport * from \"./psitemmanager.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"4e778a83\",\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}
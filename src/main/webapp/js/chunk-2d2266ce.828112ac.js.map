{"version":3,"sources":["webpack:///./src/util/SmartStorage.js"],"names":["HashMap","memObj","this","count","add","key","value","hasOwnProperty","contain","get","remove","clear","getData","setData","data","SmartStorage","lockey","item","strCart","window","localStorage","getItem","map","JSON","parse","temitem","console","log","setItem","stringify","getItems","arr","push","id","update","Object","assign","removeItem"],"mappings":"6GAGA,WACG,IAAIA,EAAS,WACR,IAAIC,EAAS,GACbC,KAAKC,MAAQ,EAEbD,KAAKE,IAAM,SAASC,EAAKC,GACrB,OAAIL,EAAOM,eAAeF,KAGtBJ,EAAOI,GAAOC,EACdJ,KAAKC,SACE,IAIfD,KAAKM,QAAU,SAASH,GACpB,OAAOJ,EAAOM,eAAeF,IAGjCH,KAAKO,IAAM,SAASJ,GAChB,OAAIH,KAAKM,QAAQH,GACNJ,EAAOI,GACX,MAEXH,KAAKQ,OAAQ,SAASL,GACdH,KAAKM,QAAQH,YACNJ,EAAOI,GACdH,KAAKC,UAIbD,KAAKS,MAAQ,WACTV,EAAS,GACTC,KAAKC,MAAQ,GAEjBD,KAAKU,QAAQ,WACT,OAAOX,GAEXC,KAAKW,QAAQ,SAAUC,GACnB,OAAOb,EAAOa,IAelBC,EAAa,WAEb,IAAIC,EAAO,cACXd,KAAKE,IAAI,SAAUC,EAAIY,GACnB,IAAIC,EAAQC,OAAOC,aAAaC,QAAQL,GACpCM,EAAI,IAAItB,EACA,MAATkB,GACCI,EAAIT,QAAQU,KAAKC,MAAMN,IAC3B,IAAKO,EAAQH,EAAIb,IAAIJ,GACT,MAAToB,EACCH,EAAIlB,IAAIC,EAAIY,GAEZQ,EAAQtB,MAAMsB,EAAQtB,MAAMc,EAAKd,MACrCuB,QAAQC,IAAI,OAAOL,EAAIV,WACvBO,OAAOC,aAAaQ,QAAQZ,EAAOO,KAAKM,UAAUP,EAAIV,aAE1DV,KAAKQ,OAAO,SAAUL,GAClB,IAAIa,EAAQC,OAAOC,aAAaC,QAAQL,GACpCM,EAAI,IAAItB,EACA,MAATkB,GACCI,EAAIT,QAAQU,KAAKC,MAAMN,IAC3BI,EAAIZ,OAAOL,GACXc,OAAOC,aAAaQ,QAAQZ,EAAOO,KAAKM,UAAUP,EAAIV,aAE1DV,KAAK4B,SAAS,WACV,IAAIZ,EAAQC,OAAOC,aAAaC,QAAQL,GACxCU,QAAQC,IAAI,UAAUT,GACtB,IAAIa,EAAI,GACJT,EAAI,IAAItB,EACA,MAATkB,GACCI,EAAIT,QAAQU,KAAKC,MAAMN,IAC3BQ,QAAQC,IAAI,iBAAiBL,EAAIV,WACjC,IAAI,IAAIP,KAAOiB,EAAIV,UACfmB,EAAIC,KAAK,CAACC,GAAG5B,EAAIC,MAAMgB,EAAIV,UAAUP,KAGzC,OADAqB,QAAQC,IAAI,OAAOI,GACZA,GAEX7B,KAAKgC,OAAO,SAAU7B,EAAIY,GACtB,IAAIC,EAAQC,OAAOC,aAAaC,QAAQL,GACpCM,EAAI,IAAItB,EACA,MAATkB,GACCI,EAAIT,QAAQU,KAAKC,MAAMN,IAC3B,IAAKO,EAAQH,EAAIb,IAAIJ,GACT,MAAToB,EACCH,EAAIlB,IAAIC,EAAIY,GAEZkB,OAAOC,OAAOX,EAAQR,GAC1BE,OAAOC,aAAaQ,QAAQZ,EAAOO,KAAKM,UAAUP,EAAIV,aAG1DV,KAAKS,MAAM,WACPQ,OAAOC,aAAaiB,WAAWrB,KAGvCG,OAAOJ,aAAaA,EA7GxB","file":"js/chunk-2d2266ce.828112ac.js","sourcesContent":["/**\r\n * 阿文\r\n */\r\n(function fx897876() {\r\n   let HashMap= function () {\r\n        let memObj = {};\r\n        this.count = 0;\r\n        //添加\r\n        this.add = function(key, value) {\r\n            if (memObj.hasOwnProperty(key)) {\r\n                return false; //如果键已经存在，不添加\r\n            }else {\r\n                memObj[key] = value;\r\n                this.count++;\r\n                return true;\r\n            }\r\n        }\r\n\r\n        this.contain = function(key) {\r\n            return memObj.hasOwnProperty(key);\r\n        }\r\n\r\n        this.get = function(key){\r\n            if (this.contain(key))\r\n                return memObj[key];\r\n            return null;\r\n        }\r\n        this.remove= function(key) {\r\n            if (this.contain(key)) {\r\n                delete memObj[key];\r\n                this.count--;\r\n            }\r\n        }\r\n        //清空\r\n        this.clear = function(){\r\n            memObj = {};\r\n            this.count = 0;\r\n        }\r\n        this.getData=function (){\r\n            return memObj;\r\n        }\r\n        this.setData=function (data){\r\n            return memObj=data;\r\n        }\r\n    }\r\n\r\n    /**\r\n     * {\r\n     *     id,\r\n     *     name,\r\n     *     tupian,\r\n     *     price,\r\n     *     count\r\n     *     typename\r\n     * }\r\n     * @constructor\r\n     */\r\n    let SmartStorage=function (){\r\n\r\n        let lockey=\"locshopcart\";\r\n        this.add=function (key,item){\r\n            let strCart=window.localStorage.getItem(lockey);\r\n            let map=new HashMap();\r\n            if(strCart!=null)\r\n                map.setData(JSON.parse(strCart));\r\n            let  temitem=map.get(key);\r\n            if(temitem==null)\r\n                map.add(key,item);\r\n            else\r\n                temitem.count=temitem.count+item.count;\r\n            console.log(\"数据对象\",map.getData());\r\n            window.localStorage.setItem(lockey,JSON.stringify(map.getData()));\r\n        }\r\n        this.remove=function (key){\r\n            let strCart=window.localStorage.getItem(lockey);\r\n            let map=new HashMap();\r\n            if(strCart!=null)\r\n                map.setData(JSON.parse(strCart));\r\n            map.remove(key);\r\n            window.localStorage.setItem(lockey,JSON.stringify(map.getData()));\r\n        }\r\n        this.getItems=function (){\r\n            let strCart=window.localStorage.getItem(lockey);\r\n            console.log(\"strCart\",strCart);\r\n            let arr=[];\r\n            let map=new HashMap();\r\n            if(strCart!=null)\r\n                map.setData(JSON.parse(strCart));\r\n            console.log(\"map.getData()=\",map.getData());\r\n            for(let key in map.getData()){\r\n                arr.push({id:key,value:map.getData()[key]});\r\n            }\r\n            console.log(\"arr=\",arr);\r\n            return arr;\r\n        }\r\n        this.update=function (key,item){\r\n            let strCart=window.localStorage.getItem(lockey);\r\n            let map=new HashMap();\r\n            if(strCart!=null)\r\n                map.setData(JSON.parse(strCart));\r\n            let  temitem=map.get(key);\r\n            if(temitem==null)\r\n                map.add(key,item);\r\n            else\r\n                Object.assign(temitem,item);\r\n            window.localStorage.setItem(lockey,JSON.stringify(map.getData()));\r\n        }\r\n\r\n        this.clear=function (){\r\n            window.localStorage.removeItem(lockey);\r\n        }\r\n    }\r\n    window.SmartStorage=SmartStorage;\r\n})();\r\n\r\n\r\n"],"sourceRoot":""}